webpackJsonp([14],{"Lh/p":function(t,e){},asf7:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("c/w/"),c=a("wxRv"),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ps_ab"},[a("div",{staticClass:"ps_flex",staticStyle:{padding:"0px","border-radius":"10px"}},[a("div",{staticClass:"dialog-title flexrow flexac flexsb"},[t._v("新增数值\n      "),a("a-icon",{attrs:{type:"close"},on:{click:t.closedialog}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac item_zzx",staticStyle:{"margin-top":"20px"}},[t._m(0),t._v(" "),a("a-input-password",{model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac item_zzx"},[a("a",{staticStyle:{color:"#FF0033"}},[t._v("*")]),t._v(" "),a("div",{staticClass:"item-title_zzx"},[t._v("确认密码：")]),t._v(" "),a("a-input-password",{model:{value:t.password2,callback:function(e){t.password2=e},expression:"password2"}})],1),t._v(" "),a("a-button",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-title_zzx"},[e("a",{staticStyle:{color:"#FF0033"}},[this._v("*")]),this._v("密码：")])}]};var l=a("VU/8")({data:function(){return{password:"",password2:""}},methods:{submit:function(){this.password||!this.password2?this.password2==this.password?this.$emit("confirmPass",this.password):this.$message.warning("两次输入的密码不一致"):this.$message.warning("请输入修改的密码")},closedialog:function(){this.$emit("cancle")}}},d,!1,function(t){a("Lh/p")},null,null).exports,p={components:{isLeft:o.a,isDeleteDialog:c.a,isEditPassWord:l},data:function(){return{ModalText:"您确定要删除吗？",visible:!1,visiblePass:!1,showtree:!1,treedata:null,tabletype:!1,isselectdata:{id:"",name:""},replaceFields:{title:"name",key:"id"},tablecolumns:[{width:60,align:"center",title:"序号",dataIndex:"accountId",ellipsis:!0,scopedSlots:{customRender:"accountId"}},{width:100,align:"center",title:"账号名称",dataIndex:"userName",key:"userName",ellipsis:!0},{width:208,align:"center",title:"姓名",dataIndex:"realName",key:"realName",ellipsis:!0,scopedSlots:{customRender:"realName"}},{width:208,align:"center",title:"手机号码",key:"mobilePhone",dataIndex:"mobilePhone",ellipsis:!0},{width:208,align:"center",title:"账号状态",key:"statusCode",dataIndex:"statusCode",ellipsis:!0,scopedSlots:{customRender:"statusCode"}},{width:180,align:"center",title:"操作",ellipsis:!0,scopedSlots:{customRender:"edit"}}],tabledata:"",defaultExpandedKeys:[],pageparam:{keyword:"",statusCode:""},statusCode:[{id:1,val:"正常"},{id:0,val:"冻结"}],data:"",pagination:{total:0,pageSize:10,showSizeChanger:!0,current:1,size:"default",page:1,pageSizeOptions:["10","20","50","100"],showTotal:function(t){return"共有 "+t+" 条数据"}},issearchdata:"",filterdata:[],treeprame:{departmentId:"",operatorId:"1",customerId:""},removeparam:{accountId:"",operatorId:"1",cipher:""},istotal:{type:1}}},created:function(){this.getareatree()},methods:{getareatree:function(){var t=this;return r()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.showtree=!1,e.next=3,t.$http.post(t.$api.departmenttree,t.treeprame);case 3:"10000"==(a=e.sent).data.resultCode?t.data=a.data.data:t.$message.error(a.data.resultMsg),t.setdata(),t.showtree=!0,t.getpersonpage();case 8:case"end":return e.stop()}},e,t)}))()},getpersonpage:function(){var t=this;return r()(i.a.mark(function e(){var a,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.tabletype=!1,a={customerId:t.isselectdata.id,keyword:t.pageparam.keyword,statusCode:t.pageparam.statusCode,pageIndex:t.pagination.page,pageSize:t.pagination.pageSize},e.next=4,t.$http.post(t.$api.accountinfopage,a);case 4:"10000"==(s=e.sent).data.resultCode?(t.tabledata=s.data.data.list,1==t.pagination.current&&(t.pagination.total=s.data.data.length),t.istotal.type++,t.tabletype=!0):(t.tabletype=!1,t.$message.success(s.data.resultMsg));case 6:case"end":return e.stop()}},e,t)}))()},getremove:function(){var t=this;return r()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(t.$api.accountinforemove,t.removeparam);case 2:"10000"==(a=e.sent).data.resultCode?(t.$message.success(a.data.resultMsg),t.getpersonpage(),t.visible=!1):t.$message.error(a.data.resultMsg);case 4:case"end":return e.stop()}},e,t)}))()},confirmPass:function(t){var e=this;return r()(i.a.mark(function a(){var s;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.removeparam.cipher=t,a.next=3,e.$http.post(e.$api.accountinforeset,e.removeparam);case 3:1e4==(s=a.sent).data.resultCode?e.$message.success(s.data.resultMsg):e.$message.error(s.data.resultMsg),e.visiblePass=!1;case 6:case"end":return a.stop()}},a,e)}))()},cancelPass:function(){this.visiblePass=!1},toedit:function(t){this.removeparam.accountId=t.accountId,this.visiblePass=!0},toadd:function(t){""==this.isselectdata.id&&(this.isselectdata.id=this.treedata[0].id,this.isselectdata.name=this.treedata[0].name),this.$router.push({path:"/addaccount",query:{id:this.isselectdata.id,accountid:t.accountId,name:this.isselectdata.name}})},toTree:function(t){var e=[];if(!Array.isArray(t))return e;t.forEach(function(t){delete t.children});var a={};return t.forEach(function(t){a[t.id]=t}),t.forEach(function(t){var s=a[t.pid];s?(s.children||(s.children=[])).push(t):e.push(t)}),e},setdata:function(){for(var t=0;t<this.data.length;t++)1==this.data[t].open&&this.defaultExpandedKeys.push(this.data[t].id);this.treedata=this.toTree(this.data)},getsearchdata:function(t){this.issearchdata=t,this.getareatree(),""!=t&&(this.filterdata=[],this.setfilltertree(this.treedata,this.issearchdata))},setfilltertree:function(t,e){for(var a in t){-1!=(t[a].name+"").search(this.issearchdata)&&this.filterdata.push(t[a]),t[a].children&&this.setfilltertree(t[a].children)}this.treedata=this.toTree(this.filterdata)},getselectdata:function(t){console.log(this.isselectdata,98899),this.isselectdata.id=t.id,this.isselectdata.name=t.name,this.istotal.type=1,this.getpersonpage()},tosearch:function(){this.istotal.type=1,this.pagination.page=1,this.pagination.pageSize=10,this.isselectdata.id="",this.getpersonpage()},clear:function(){this.pageparam.keyword="",this.pageparam.statusCode=""},showdialogsys:function(t){this.removeparam.accountId=t.accountId,this.visible=!0},cancel:function(){this.visible=!1},confirm:function(){this.cancel(),this.getremove()},handleTableChange:function(t){this.pagination.page=t.current,this.pagination.current=t.current,this.pagination.pageSize=t.pageSize,this.getpersonpage()},handleChange:function(t){this.pageparam.statusCode=t}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"administrativedivision"},[a("div",{staticClass:"flex_fs"},[t.showtree?a("is-left",{attrs:{treedata:t.treedata,replaceFields:t.replaceFields,defaultExpandedKeys:t.defaultExpandedKeys},on:{selectdata:t.getselectdata,searchdata:t.getsearchdata}}):t._e(),t._v(" "),a("div",[a("div",{staticClass:"right"},[a("div",{staticClass:"r_top flex_f"},[a("div",{staticClass:"r_t_text"},[t._v("帐号名称/手机号:")]),t._v(" "),a("a-input",{staticClass:"r_t_inp",attrs:{placeholder:"请输入人员姓名/手机号码"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.tosearch()}},model:{value:t.pageparam.keyword,callback:function(e){t.$set(t.pageparam,"keyword",e)},expression:"pageparam.keyword"}}),t._v(" "),a("div",{staticClass:"r_t_text"},[t._v("帐号状态:")]),t._v(" "),a("a-select",{staticStyle:{width:"200px","margin-right":"20px",height:"36px","border-radius":"8px"},attrs:{"show-search":"",placeholder:"全部","option-filter-prop":"children"},on:{change:t.handleChange},model:{value:t.pageparam.statusCode,callback:function(e){t.$set(t.pageparam,"statusCode",e)},expression:"pageparam.statusCode"}},[a("a-select-option",{attrs:{value:""}},[t._v("全部")]),t._v(" "),t._l(t.statusCode,function(e,s){return a("a-select-option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.val))])})],2),t._v(" "),a("a-button",{staticClass:"btn_blue btn",attrs:{type:"primary"},on:{click:function(e){return t.tosearch()}}},[t._v("查询")]),t._v(" "),a("a-button",{staticClass:"btn_gray",on:{click:function(e){return t.clear()}}},[t._v("清除")])],1),t._v(" "),a("a-button",{staticClass:"btn_blue btn2",attrs:{type:"primary"},on:{click:function(e){return t.toadd({})}}},[t._v("新增")]),t._v(" "),t.tabletype?a("div",{staticClass:"table"},[a("a-table",{attrs:{columns:t.tablecolumns,"data-source":t.tabledata,bordered:"",pagination:t.pagination,size:"small"},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"accountId",fn:function(e,s,i){return a("div",{},[t._v("\n          "+t._s(i+1+10*(t.pagination.current-1))+"\n            ")])}},{key:"statusCode",fn:function(e){return a("div",{staticClass:"flex_a"},[1==e?a("div",[t._v("启用")]):t._e(),t._v(" "),0==e?a("div",[t._v("锁定")]):t._e()])}},{key:"edit",fn:function(e,s){return a("div",{staticClass:"flex_a"},[a("div",{staticClass:"col_blue ispointer",on:{click:function(e){return t.toadd(s)}}},[t._v("编辑")]),t._v(" "),a("div",{staticClass:"col_blue ispointer",on:{click:function(e){return t.toedit(s)}}},[t._v("修改密码")]),t._v(" "),a("div",{staticClass:"col_red ispointer",on:{click:function(a){return t.showdialogsys(e)}}},[a("span",[t._v("删除")])])])}}],null,!1,1307854571)})],1):t._e(),t._v(" "),t.tabletype?t._e():a("div",{staticClass:"table"},[t._v("无")])],1)])],1),t._v(" "),t.visible?a("is-delete-dialogsys",{on:{confirm:t.confirm,cancle:t.cancel}}):t._e(),t._v(" "),t.visiblePass?a("is-edit-pass-word",{on:{confirmPass:t.confirmPass,cancle:t.cancelPass}}):t._e()],1)},staticRenderFns:[]};var h=a("VU/8")(p,u,!1,function(t){a("hdLJ")},"data-v-74e5f906",null);e.default=h.exports},hdLJ:function(t,e){}});