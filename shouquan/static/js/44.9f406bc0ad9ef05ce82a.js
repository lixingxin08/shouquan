webpackJsonp([44],{"1X2a":function(e,t){},EUl7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),i=a("exGp"),o=a.n(i),n=(a("+aT9"),{inject:["reload"],data:function(){return{sel_data:"",form:{personId:"",realName:"",gender:1,mobilePhone:"",statusCode:"",position:"",departmentId:"",remark:"",email:"",operatorId:JSON.parse(localStorage.getItem("usermsg")).accountId},detailparam:{personId:""},plainOptions:["男","女"],value1:"男",statusCode:[{id:1,val:"是"},{id:0,val:"否"}]}},created:function(){this.sel_data=JSON.parse(localStorage.getItem("sel")),"add"==this.$route.query.type&&(this.form.departmentName=this.$route.query.name,this.form.departmentId=this.$route.query.id),"edit"==this.$route.query.type&&(this.detailparam.personId=this.$route.query.id,this.getpersondetail())},methods:{getpersondetail:function(){var e=this;return o()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(e.$api.persondetail,e.detailparam);case 2:"10000"==(a=t.sent).data.resultCode?(e.form=a.data.data,e.form.realName=a.data.data.realName):e.$message.error(a.data.resultMsg),console.log(a,8888);case 5:case"end":return t.stop()}},t,e)}))()},getform:function(){var e=this;return o()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.verEmail(e.form.email)){t.next=3;break}return e.form.email="",t.abrupt("return",e.$message.error("邮箱地址格式不正确"));case 3:if(e.verPhone(e.form.mobilePhone)){t.next=6;break}return e.form.mobilePhone="",t.abrupt("return",e.$message.error("手机号码格式不正确"));case 6:if(e.vify_cn16(e.form.realName)){t.next=9;break}return e.form.realName="",t.abrupt("return",e.$message.error("人员姓名格式不正确"));case 9:if(""!=e.form.realName){t.next=11;break}return t.abrupt("return",e.$message.error("请输入人员姓名"));case 11:if(""!=e.form.mobilePhone){t.next=13;break}return t.abrupt("return",e.$message.error("请输入手机号码"));case 13:if(""!=e.form.statusCode){t.next=15;break}return t.abrupt("return",e.$message.error("请选择人员状态"));case 15:return e.form.operatorId=1,t.next=18,e.$http.post(e.$api.personform,e.form);case 18:"10000"==(a=t.sent).data.resultCode?(e.$message.success(a.data.resultMsg),e.$router.go(-1)):e.$message.error(a.data.resultMsg);case 20:case"end":return t.stop()}},t,e)}))()},reset:function(){this.reload()},onComplete:function(e){console.log(e,"onComplete ")},onError:function(e){console.log(e,"onError ")},handleChange:function(e,t){console.log(this.form.typeCode,88)},handleBlur:function(){console.log("blur")},handleFocus:function(){console.log("focus")},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},onChange1:function(e){console.log("radio1 checked",e.target.value),"男"==e.target.value?this.form.gender=1:this.form.gender=0}}}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"isedit"},[a("div",{staticClass:"flexrow flexac edit_item"},[e._m(0),e._v(" "),a("div",[a("a-input",{staticClass:"edit_a_input",attrs:{maxLength:50,placeholder:"请输入人员姓名"},model:{value:e.form.realName,callback:function(t){e.$set(e.form,"realName",t)},expression:"form.realName"}})],1),e._v(" "),a("div",{staticClass:"edit_item_toast"},[e._v("注:50字以内，支持中英文")])]),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[e._m(1),e._v(" "),a("div",{staticClass:"edit_a_input flex_f"},[a("a-radio-group",{attrs:{options:e.plainOptions,"default-value":e.value1},on:{change:e.onChange1}})],1)]),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[e._m(2),e._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"请输入11位数手机号"},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone",t)},expression:"form.mobilePhone"}})],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[e._v("电子邮箱:")]),e._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"50字以内，请输入@格式且合法的邮箱帐号"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[e._m(3),e._v(" "),a("a-select",{staticStyle:{width:"667px","margin-right":"20px",height:"36px","border-radius":"8px"},attrs:{"show-search":"",placeholder:"全部","option-filter-prop":"children"},on:{change:e.handleChange},model:{value:e.form.statusCode,callback:function(t){e.$set(e.form,"statusCode",t)},expression:"form.statusCode"}},[a("a-select-option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),e._l(e.statusCode,function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.val))])})],2)],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[e._v("岗位职务:")]),e._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"请输岗位职务",maxLength:50},model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}}),e._v(" "),a("div",{staticClass:"edit_item_toast"},[e._v("注:50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号")])],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[e._v("所属部门:")]),e._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{disabled:"",placeholder:"请输入所属部门"},model:{value:e.form.departmentName,callback:function(t){e.$set(e.form,"departmentName",t)},expression:"form.departmentName"}})],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[e._v("备注信息:")]),e._v(" "),a("div",{staticStyle:{position:"relative"}},[a("a-textarea",{staticClass:"edit_a_input",attrs:{rows:5,placeholder:"500字以内，格式不限制"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)]),e._v(" "),a("div",{staticClass:"flexrow",staticStyle:{"margin-top":"30px","justify-item":"flex-start","margin-left":"325px"}},[a("a-button",{on:{click:function(t){return e.getform()}}},[e._v("保存")]),e._v(" "),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"edit_item_title"},[t("span",{staticClass:"col_red"},[this._v("*")]),this._v("人员姓名:\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"edit_item_title"},[t("span",{staticClass:"col_red"},[this._v("*")]),this._v("人员性别:\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"edit_item_title"},[t("span",{staticClass:"col_red"},[this._v("*")]),this._v("手机号码:\n    ")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"edit_item_title"},[t("span",{staticClass:"col_red"},[this._v("*")]),this._v("人员状态:\n    ")])}]};var c=a("VU/8")(n,l,!1,function(e){a("1X2a")},null,null);t.default=c.exports}});