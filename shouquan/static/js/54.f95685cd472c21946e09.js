webpackJsonp([54],{"/aM6":function(e,t){},IViP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xxa5"),n=a.n(r),o=a("exGp"),s=a.n(o),i=(a("+aT9"),{inject:["reload"],data:function(){return{sel_data:"",form:{departmentId:"",departmentName:"",parentId:"",introduce:"",gradeno:"",operatorId:"1"},detailparam:{departmentId:""}}},created:function(){this.sel_data=JSON.parse(localStorage.getItem("sel")),"add"==this.$route.query.type&&(this.form.parentName=this.$route.query.name,this.form.parentId=this.$route.query.id,this.form.gradeno=this.$route.query.levelType),"edit"==this.$route.query.type&&(this.detailparam.departmentId=this.$route.query.id,this.getdetail())},methods:{getdetail:function(){var e=this;return s()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(e.$api.departmentdetail,e.detailparam);case 2:"10000"==(a=t.sent).data.resultCode?(e.form=a.data.data,e.form.realName=a.data.data.realName):e.$message.error(a.data.resultMsg),console.log(a,8888);case 5:case"end":return t.stop()}},t,e)}))()},getform:function(){var e=this;return s()(n.a.mark(function t(){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.operatorId=1,""!=e.form.departmentName){t.next=3;break}return t.abrupt("return",e.$message.error("请输入部门名称"));case 3:if(e.vify_cn16(e.form.departmentName)){t.next=6;break}return e.form.departmentName="",t.abrupt("return",e.$message.error("部门名称格式不正确"));case 6:return t.next=8,e.$http.post(e.$api.departmentform,e.form);case 8:"10000"==(a=t.sent).data.resultCode?(e.$message.success(a.data.resultMsg),e.$router.go(-1)):e.$message.error(a.data.resultMsg);case 10:case"end":return t.stop()}},t,e)}))()},reset:function(){this.reload()},onComplete:function(e){console.log(e,"onComplete ")},onError:function(e){console.log(e,"onError ")},handleChange:function(e,t){console.log(this.form.typeCode,88)},handleBlur:function(){console.log("blur")},handleFocus:function(){console.log("focus")},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e.toLowerCase())>=0},onChange1:function(e){console.log("radio1 checked",e.target.value),"男"==e.target.value?this.form.gender=1:this.form.gender=0}}}),l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"isedit"},[a("div",{staticClass:"flexrow flexac edit_item"},[e._m(0),e._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"请输入部门名称"},model:{value:e.form.departmentName,callback:function(t){e.$set(e.form,"departmentName",t)},expression:"form.departmentName"}}),e._v(" "),a("div",{staticClass:"edit_item_toast"},[e._v("注:2-16个字，支持中英文")])],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[e._v("\n      上级部门:\n    ")]),e._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{disabled:""},model:{value:e.form.parentName,callback:function(t){e.$set(e.form,"parentName",t)},expression:"form.parentName"}})],1),e._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[e._v("部门介绍:")]),e._v(" "),a("div",{staticStyle:{position:"relative"}},[a("a-textarea",{staticClass:"edit_a_input",attrs:{rows:5,placeholder:"500字以内，格式不限制"},model:{value:e.form.introduce,callback:function(t){e.$set(e.form,"introduce",t)},expression:"form.introduce"}})],1)]),e._v(" "),a("div",{staticClass:"flexrow",staticStyle:{"margin-top":"30px","justify-item":"flex-start","margin-left":"325px"}},[a("a-button",{on:{click:function(t){return e.getform()}}},[e._v("保存")]),e._v(" "),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"edit_item_title"},[t("span",{staticClass:"col_red"},[this._v("*")]),this._v("部门名称:\n    ")])}]};var c=a("VU/8")(i,l,!1,function(e){a("/aM6")},null,null);t.default=c.exports}});