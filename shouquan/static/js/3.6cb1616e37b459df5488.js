webpackJsonp([3],{"8EjB":function(t,e){t.exports={data:{dictionaryColumns:[{title:"序号",width:"80px",dataIndex:"index",align:"center",ellipsis:!0,scopedSlots:{customRender:"index"}},{title:"字典名称",align:"center",ellipsis:!0,dataIndex:"className"},{title:"字典代码",align:"center",ellipsis:!0,dataIndex:"classCode"},{title:"字典等级",align:"center",ellipsis:!0,dataIndex:"grade"},{title:"上级名称",align:"center",ellipsis:!0,dataIndex:"parentName"},{title:"上级代码",align:"center",ellipsis:!0,dataIndex:"parentCode"},{title:"子节点数",align:"center",ellipsis:!0,dataIndex:"childTotal"},{title:"数值个数",align:"center",ellipsis:!0,dataIndex:"valueTotal"},{title:"操作",align:"center",width:"160px",ellipsis:!0,scopedSlots:{customRender:"operation"}}],adddictionaryColumns:[{title:"数值名称",dataIndex:"className",width:"25%",align:"center",scopedSlots:{customRender:"className"}},{title:"数值代码",dataIndex:"classCode",width:"25%",align:"center",scopedSlots:{customRender:"classCode"}},{title:"数值描述",dataIndex:"remark",width:"25%",align:"center",scopedSlots:{customRender:"remark"}},{title:"操作",dataIndex:"operation",width:"25%",align:"center",scopedSlots:{customRender:"operation"}}]}}},Y0OS:function(t,e){},inLm:function(t,e){},tbBP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Gu7T"),s=a.n(i),c=a("Xxa5"),n=a.n(c),d=a("exGp"),o=a.n(d),r=a("8EjB"),l=a.n(r),u={data:function(){return{autoName:"",autoCode:"",autoDescribe:""}},methods:{submit:function(){if(this.autoCode)if(this.autoName){var t={autoCode:this.autoCode,autoName:this.autoName,autoDescribe:this.autoDescribe};console.log(t),this.$emit("submitNum",t)}else this.$message.warning("数值名称不能为空");else this.$message.warning("数值代码不能为空")},closedialog:function(){this.$emit("close")}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ps_ab"},[a("div",{staticClass:"ps_flex",staticStyle:{padding:"0px","border-radius":"10px"}},[a("div",{staticClass:"dialog-title flexrow flexac flexsb"},[t._v("新增数值\n      "),a("a-icon",{attrs:{type:"close"},on:{click:t.closedialog}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac item_dic ",staticStyle:{"margin-top":"20px"}},[a("a",{staticStyle:{color:"#FF0033"}},[t._v("*")]),t._v(" "),a("div",{staticClass:"item-title_dic"},[t._v("数值名称：")]),t._v(" "),a("a-input",{model:{value:t.autoName,callback:function(e){t.autoName=e},expression:"autoName"}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac item_dic "},[a("a",{staticStyle:{color:"#FF0033"}},[t._v("*")]),t._v(" "),a("div",{staticClass:"item-title_dic"},[t._v("数值代码：")]),t._v(" "),a("a-input",{model:{value:t.autoCode,callback:function(e){t.autoCode=e},expression:"autoCode"}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac item_dic "},[a("a",{staticStyle:{color:"#FFFFFF"}},[t._v("*")]),t._v(" "),a("div",{staticClass:"item-title_dic"},[t._v("数值描述：")]),t._v(" "),a("a-textarea",{model:{value:t.autoDescribe,callback:function(e){t.autoDescribe=e},expression:"autoDescribe"}})],1),t._v(" "),a("a-button",{staticStyle:{"margin-top":"30px","margin-bottom":"30px"},attrs:{type:"primary"},on:{click:t.submit}},[t._v("确定")])],1)])},staticRenderFns:[]};var _={components:{isAdd:a("VU/8")(u,m,!1,function(t){a("Y0OS")},null,null).exports},data:function(){return{dictionaryColumns:l.a.data.adddictionaryColumns,classCode:"",parentName:"",grade:"",className:"",parentCode:"",remark:"",congigmidLenght:0,cacheData:{},szList:[],dictid:"",isAdd:!1,showAddDialog:!1}},created:function(){this.dictid=this.$route.query.dictid,this.isAdd=this.$route.query.add,this.dictid&&this.getDictionaryInfo(this.dictid)},methods:{closeDialog:function(){this.showAddDialog=!1},getDictionaryInfo:function(t){var e=this;return o()(n.a.mark(function a(){var i,s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={dictionaryId:t},a.next=3,e.$http.post(e.$api.dictionarydetail,i);case 3:"10000"==(s=a.sent).data.resultCode?(e.cacheData=s.data.data,e.setShowData()):e.$message.error(s.data.resultMsg);case 5:case"end":return a.stop()}},a,e)}))()},setShowData:function(){this.cacheData.dictionaryList&&(this.szList=this.cacheData.dictionaryList),this.classCode=this.cacheData.classCode,this.className=this.cacheData.className,this.grade=this.cacheData.grade,this.parentName=this.cacheData.parentName,this.parentCode=this.cacheData.parentCode,this.remark=this.cacheData.remark,"true"==this.isAdd&&(this.classCode="",this.className="",this.parentName=this.cacheData.className,this.parentCode=this.cacheData.classCode,this.grade=this.cacheData.grade+1)},submit:function(){this.className?this.classCode?this.submitHttp("true"==this.isAdd,!1,"true"==this.isAdd?"":this.dictid,this.className,this.classCode,this.remark,1e3):this.$message.warning("字典代码不能为空"):this.$message.warning("字典名称不能为空")},onChangeConfig:function(t){this.congigmidLenght=this.remark.length},addLine:function(){this.showAddDialog=!0},handleChange:function(t,e,a){var i=[].concat(s()(this.szList)),c=i[e];c&&(c[a]=t,c.edit=!0,this.szList=i)},save:function(t){var e=this.szList[t];this.submitHttp(!1,!0,e.dictionaryId,e.className,e.classCode,e.remark,2e3)},addNum:function(t){this.submitHttp(!0,!0,t.dictionaryId,t.autoName,t.autoCode,t.autoDescribe,2e3)},submitHttp:function(t,e,a,i,s,c,d){var r=this;return o()(n.a.mark(function t(){var o,l;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o={dictionaryId:a,parentId:r.cacheData.dictionaryId,parentCode:r.cacheData.classCode,className:i,classCode:s,remark:c,grade:r.grade,operatorId:JSON.parse(localStorage.getItem("usermsg")).accountId,typeCode:d},t.next=3,r.$http.post(r.$api.dictionaryform,o);case 3:1e4==(l=t.sent).data.resultCode?(r.$message.success(l.data.resultMsg),e&&r.getDictionaryInfo(r.dictid)):r.$message.error(l.data.resultMsg),r.showAddDialog=!1;case 6:case"end":return t.stop()}},t,r)}))()},cancel:function(t){var e=this;return o()(n.a.mark(function a(){var i;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={dictionaryId:t.dictionaryId},a.next=3,e.$http.post(e.$api.dictionaryremove,i);case 3:a.sent,e.getDictionaryInfo(e.dictid);case 5:case"end":return a.stop()}},a,e)}))()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flexcolumn",staticStyle:{"background-color":"#FFFFFF"}},[a("div",{staticStyle:{margin:"0 auto"}},[a("div",{staticClass:"flexrow flexac edit_item_dic"},[a("div",{staticClass:"edit_item_dic_title3_dic"},[t._v("上级名称:")]),t._v(" "),a("div",{staticClass:"edit_a_input_dic"},[a("a-input",{attrs:{placeholder:"50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号"},model:{value:t.parentName,callback:function(e){t.parentName=e},expression:"parentName"}})],1),t._v(" "),a("div",{staticClass:"edit_item_dic_toast"},[t._v("注：不可选")])]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item_dic"},[a("div",{staticClass:"edit_item_dic_title3_dic"},[t._v("上级代码:")]),t._v(" "),a("div",{staticClass:"edit_a_input_dic"},[a("a-input",{attrs:{placeholder:"50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号"},model:{value:t.parentCode,callback:function(e){t.parentCode=e},expression:"parentCode"}})],1),t._v(" "),a("div",{staticClass:"edit_item_dic_toast"},[t._v("注：不可选")])]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item_dic"},[t._m(0),t._v(" "),a("div",{staticClass:"edit_a_input_dic"},[a("a-input",{attrs:{placeholder:"50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号"},model:{value:t.className,callback:function(e){t.className=e},expression:"className"}})],1),t._v(" "),a("div",{staticClass:"edit_item_dic_toast"},[t._v("注：区划名字不超过30个字")])]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item_dic"},[t._m(1),t._v(" "),a("div",{staticClass:"edit_a_input_dic"},[a("a-input",{attrs:{placeholder:"50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号"},model:{value:t.classCode,callback:function(e){t.classCode=e},expression:"classCode"}})],1)]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item_dic"},[a("div",{staticClass:"edit_item_dic_title3_dic"},[t._v("字典等级:")]),t._v(" "),a("div",{staticClass:"edit_a_input_dic"},[a("a-input",{attrs:{placeholder:"50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号"},model:{value:t.grade,callback:function(e){t.grade=e},expression:"grade"}})],1)]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item_dic"},[a("div",{staticClass:"edit_item_dic_title3_dic"},[t._v("字典描述:")]),t._v(" "),a("div",{staticStyle:{position:"relative",width:"667px"}},[a("a-textarea",{staticClass:"edit_a_input_dic",attrs:{maxLength:256,rows:5,placeholder:"字典描述"},on:{change:t.onChangeConfig},model:{value:t.remark,callback:function(e){t.remark=e},expression:"remark"}}),t._v(" "),a("div",{staticClass:"edit_number_dic"},[t._v(t._s(t.congigmidLenght)+"/256")])],1)]),t._v(" "),a("div",{staticClass:"flexrow ",staticStyle:{"margin-top":"30px","justify-item":"flex-start","margin-left":"80px"}},[a("a-button",{on:{click:t.submit}},[t._v("保存")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:t.setShowData}},[t._v("重置")])],1),t._v(" "),"true"!=t.isAdd?a("div",{staticClass:"flexrow edit_item_dic_title3_dic",staticStyle:{"margin-top":"40px","justify-item":"flex-start","margin-bottom":"10px","font-size":"16px"}},[t._v("数值列表")]):t._e(),t._v(" "),"true"!=t.isAdd?a("a-table",{attrs:{columns:t.dictionaryColumns,"data-source":t.szList,pagination:!1,bordered:!0,size:"small"},scopedSlots:t._u([t._l(["className","classCode","remark"],function(e){return{key:e,fn:function(i,s,c){return[a("div",{key:e},[a("a-input",{staticStyle:{margin:"-5px 0",border:"0px"},attrs:{value:i},on:{change:function(a){return t.handleChange(a.target.value,c,e)}}})],1)]}}}),{key:"operation",fn:function(e,i,s){return[a("div",{staticClass:"editable-row-operations"},[a("span",[i.edit&&i.className&&i.classCode?a("a",{on:{click:function(){return t.save(s)}}},[t._v("保存")]):t._e(),t._v(" "),i.dictionaryId?a("a-popconfirm",{attrs:{title:"确定删除数值吗?"},on:{confirm:function(){return t.cancel(i)}}},[a("a",{staticStyle:{color:"ff0000"}},[t._v("删除")])]):t._e()],1)])]}}],null,!0)}):t._e(),t._v(" "),"true"!=t.isAdd?a("div",{staticClass:"flexrow edit_item_dic_title3_dic",staticStyle:{"margin-top":"10px","justify-item":"flex-start","margin-bottom":"50px","font-size":"16px"}},[t.szList.length<999?a("a-button",{attrs:{type:"primary"},on:{click:t.addLine}},[t._v("新增行")]):t._e()],1):t._e()],1),t._v(" "),t.showAddDialog?a("is-add",{on:{close:t.closeDialog,submitNum:t.addNum}}):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_dic_title3_dic"},[e("a",{staticStyle:{color:"#FF0000"}},[this._v("*")]),this._v("字典名称:")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_dic_title3_dic"},[e("a",{staticStyle:{color:"#FF0000"}},[this._v("*")]),this._v("字典代码:")])}]};var h=a("VU/8")(_,p,!1,function(t){a("inLm")},null,null);e.default=h.exports}});