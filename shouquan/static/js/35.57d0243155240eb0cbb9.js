webpackJsonp([35],{"KDc+":function(t,e){},ZATJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),i=a("exGp"),o=a.n(i),n={inject:["reload"],data:function(){return{sel_data:"",form:{projectId:"",projectName:"",contractNo:"",description:"",startDate:"",endDate:"",statusCode:"",defaultChecked:0,leader:"",linkphone:"",remark:"",operatorId:"1"},detailparam:{projectId:""},plainOptions:["男","女"],value1:"男",statusCode:[{id:1,val:"是"},{id:0,val:"否"}]}},computed:{isdefaultChecked:function(){return 0!=this.form.defaultChecked}},created:function(){"edit"==this.$route.query.type&&(this.detailparam.projectId=this.$route.query.id,this.getdetail())},methods:{getdetail:function(){var t=this;return o()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(t.$api.projectdetail,t.detailparam);case 2:"10000"==(a=e.sent).data.resultCode?t.form=a.data.data:t.$message.error(a.data.resultMsg),console.log(a,8888);case 5:case"end":return e.stop()}},e,t)}))()},getform:function(){var t=this;return o()(s.a.mark(function e(){var a,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.form.projectName){e.next=2;break}return e.abrupt("return",t.$message.error("请输入项目名称"));case 2:if(""!=t.form.statusCode){e.next=4;break}return e.abrupt("return",t.$message.error("请选择项目状态"));case 4:if(t.vify_cn16(t.form.leader)){e.next=7;break}return t.form.leader="",e.abrupt("return",t.$message.error("项目经理格式不正确"));case 7:if(t.vify_cn3(t.form.projectName)){e.next=10;break}return t.form.projectName="",e.abrupt("return",t.$message.error("项目名称格式不正确"));case 10:if(t.vify_cn3(t.form.contractNo)){e.next=13;break}return t.form.contractNo="",e.abrupt("return",t.$message.error("合同编号格式不正确"));case 13:if(t.verPhone(t.form.linkphone)){e.next=16;break}return t.form.linkphone="",e.abrupt("return",t.$message.error("联系手机格式不正确"));case 16:return t.form.operatorId=1,new Date(t.form.startDate).getTime()>new Date(t.form.endDate).getTime()&&(a=t.form.startDate,t.form.startDate=t.form.endDate,t.form.endDate=a),e.next=20,t.$http.post(t.$api.projectform,t.form);case 20:"10000"==(r=e.sent).data.resultCode?(t.$message.success(r.data.resultMsg),t.$router.go(-1)):t.$message.error(r.data.resultMsg);case 22:case"end":return e.stop()}},e,t)}))()},reset:function(){this.reload()},handleChange:function(t,e){console.log(this.form.typeCode,88)},onChange:function(t,e){this.form.startDate=e},onChange1:function(t,e){this.form.endDate=e},onChange2:function(t){console.log("a-switch to "+t),this.form.defaultChecked=t?1:0}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"isedit"},[a("div",{staticClass:"flexrow flexac edit_item"},[t._m(0),t._v(" "),a("div",[a("a-input",{staticClass:"edit_a_input",attrs:{maxLength:50,placeholder:"请输入项目名称"},model:{value:t.form.projectName,callback:function(e){t.$set(t.form,"projectName",e)},expression:"form.projectName"}})],1),t._v(" "),a("div",{staticClass:"edit_item_toast"},[t._v("注:50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号")])]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("合同编号:")]),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"请输入合同编号"},model:{value:t.form.contractNo,callback:function(e){t.$set(t.form,"contractNo",e)},expression:"form.contractNo"}}),t._v(" "),a("div",{staticClass:"edit_item_toast"},[t._v("注:50字以内，中文汉字、英文字母、数字、英文下划线、中英文小括号")])],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("合同描述:")]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("a-textarea",{staticClass:"edit_a_input",attrs:{rows:5,placeholder:"500字以内，格式不限制"},model:{value:t.form.contractDes,callback:function(e){t.$set(t.form,"contractDes",e)},expression:"form.contractDes"}})],1)]),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("合同期始:")]),t._v(" "),a("a-date-picker",{staticClass:"edit_a_input",attrs:{placeholder:"请选择日期",format:"YYYY-MM-DD"},on:{change:t.onChange},model:{value:t.form.startDate,callback:function(e){t.$set(t.form,"startDate",e)},expression:"form.startDate "}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("合同期止:")]),t._v(" "),a("a-date-picker",{staticClass:"edit_a_input",attrs:{format:"YYYY-MM-DD",placeholder:"请选择日期"},on:{change:t.onChange1},model:{value:t.form.endDate,callback:function(e){t.$set(t.form,"endDate",e)},expression:"form.endDate "}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[t._m(1),t._v(" "),a("a-select",{staticStyle:{width:"667px","margin-right":"20px",height:"36px","border-radius":"8px"},attrs:{"show-search":"",placeholder:"全部","option-filter-prop":"children"},on:{change:t.handleChange},model:{value:t.form.statusCode,callback:function(e){t.$set(t.form,"statusCode",e)},expression:"form.statusCode"}},[a("a-select-option",{attrs:{value:""}},[t._v("全部")]),t._v(" "),t._l(t.statusCode,function(e,r){return a("a-select-option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.val))])})],2)],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[t._m(2),t._v(" "),a("a-switch",{on:{change:t.onChange2},model:{value:t.isdefaultChecked,callback:function(e){t.isdefaultChecked=e},expression:"isdefaultChecked"}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("项目经理:")]),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"请输项目经理名称"},model:{value:t.form.leader,callback:function(e){t.$set(t.form,"leader",e)},expression:"form.leader"}}),t._v(" "),a("div",{staticClass:"edit_item_toast"},[t._v("注:2-16个字，支持中英文")])],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("联系手机:")]),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"请输入11位数字手机号"},model:{value:t.form.linkphone,callback:function(e){t.$set(t.form,"linkphone",e)},expression:"form.linkphone"}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("备注信息:")]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("a-textarea",{staticClass:"edit_a_input",attrs:{rows:5,placeholder:"500字以内，格式不限制"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)]),t._v(" "),a("div",{staticClass:"flexrow",staticStyle:{"margin-top":"30px","justify-item":"flex-start","margin-left":"325px"}},[a("a-button",{on:{click:function(e){return t.getform()}}},[t._v("保存")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_title"},[e("span",{staticClass:"col_red"},[this._v("*")]),this._v("项目名称:\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_title"},[e("span",{staticClass:"col_red"},[this._v("*")]),this._v("项目状态:\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_title"},[e("span",{staticClass:"col_red"},[this._v("*")]),this._v("默认标识:\n    ")])}]};var l=a("VU/8")(n,c,!1,function(t){a("KDc+")},null,null);e.default=l.exports}});