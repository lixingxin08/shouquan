webpackJsonp([19],{"Af/g":function(t,e){t.exports="data:image/png;base64,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"},aj3T:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),o=a("exGp"),s=a.n(o),r=a("+aT9"),l=a.n(r),c={inject:["reload"],data:function(){return{isimg:a("Af/g"),visible:!1,inttype:!0,inp_data:"",lng:[116.397428,39.90923],city:"",markertype:!1,marker:"",form:{areaId:"",areaName:"",levelType:"",position:"",remark:"",parentId:"",parentName:"",operatorId:1},areadetailprame:{areaId:"",keyword:"",latitude:0,list:[{}],longitude:0,pageIndex:0,pageSize:0,parentId:"",remark:"",searchIndex:0}}},created:function(){"add"==this.$route.query.type&&(this.form.parentId=this.$route.query.id,this.form.parentName=this.$route.query.name,this.form.levelType=this.$route.query.levelType),"edit"==this.$route.query.type&&(this.areadetailprame.areaId=this.$route.query.id,this.getareadetail())},methods:{getareadetail:function(){var t=this;return s()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post(t.$api.areadetail,t.areadetailprame);case 2:"10000"==(a=e.sent).data.resultCode?t.form=a.data.data:t.$message.error(a.data.resultMsg),console.log(a,8888);case 5:case"end":return e.stop()}},e,t)}))()},getareaform:function(){var t=this;return s()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.form.areaName){e.next=2;break}return e.abrupt("return",t.$message.error("请输入区划名称"));case 2:if(""!=t.form.position){e.next=4;break}return e.abrupt("return",t.$message.error("请输入地图位置"));case 4:return t.form.operatorId="1",e.next=7,t.$http.post(t.$api.areaform,t.form);case 7:"10000"==(a=e.sent).data.resultCode?(t.$message.success(a.data.resultMsg),t.$router.go(-1)):t.$message.error(a.data.resultMsg);case 9:case"end":return e.stop()}},e,t)}))()},define:function(){if(""==this.form.position)return this.$message.error("请选择地图位置");this.visible=!1},cancel:function(){this.visible=!1,this.form.position=""},showdialogadminadd:function(){var t=this;this.visible=!0,this.$nextTick(function(){t.init()})},init:function(){var t=this;console.log(this.lng,222);var e=new l.a.Map("map-container",{zoom:13,center:t.lng,viewMode:"2D"});e.plugin(["AMap.ToolBar","AMap.Geolocation"],function(){e.addControl(new l.a.ToolBar);var a=new l.a.Geolocation({enableHighAccuracy:!0,showButton:!0,buttonPosition:"LB",buttonOffset:new l.a.Pixel(10,20),showMarker:!0,showCircle:!1,circleOptions:{strokeColor:"#0093FF",noSelect:!0,strokeOpacity:.5,strokeWeight:1,fillColor:"#02B0FF",fillOpacity:.25},zoomToAccuracy:!0,timeout:1e4});e.addControl(a),l.a.event.addListener(a,"complete",t.onComplete),l.a.event.addListener(a,"error",t.onError),console.log(a,2222),1==t.inttype&&a.getCurrentPosition()}),e.on("click",function(a){console.log(a,112),1==t.markertype&&e.remove(t.marker),t.form.position=a.lnglat.lng+","+a.lnglat.lat,t.marker=new l.a.Marker({position:new l.a.LngLat(a.lnglat.lng,a.lnglat.lat),offset:new l.a.Pixel(-23,-54),icon:t.isimg}),t.$message.success("当前经纬度为"+t.form.position),e.add(t.marker),t.markertype=!0})},getLatLngLocation:function(){var t=this;if(""==this.city)return this.$message.error("请先输入位置名称");this.inttype=!1;var e=this;(new l.a.Geocoder).getLocation(e.city,function(a,i){if("complete"===a&&i.geocodes.length){console.log(i);var n=i.geocodes[0].location;e.lng[1]=n.lat,e.lng[0]=n.lng,e.form.position=n.lng+","+n.lat,t.init()}else console.log(i)})},reset:function(){this.reload()},onComplete:function(t){console.log(t,"onComplete ")},onError:function(t){console.log(t,"onError ")}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"isedit"},[a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("上级区域:")]),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{disabled:""},model:{value:t.form.parentName,callback:function(e){t.$set(t.form,"parentName",e)},expression:"form.parentName"}}),t._v(" "),a("div",{staticClass:"edit_item_toast"},[t._v("注：不可选")])],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("区划等级:")]),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{disabled:""},model:{value:t.form.levelType,callback:function(e){t.$set(t.form,"levelType",e)},expression:"form.levelType"}}),t._v(" "),a("div",{staticClass:"edit_item_toast"},[t._v("注：不可选")])],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[t._m(0),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"2-16个中文汉字组合"},model:{value:t.form.areaName,callback:function(e){t.$set(t.form,"areaName",e)},expression:"form.areaName"}})],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[t._m(1),t._v(" "),a("a-input",{staticClass:"edit_a_input",attrs:{placeholder:"在地图定位后获取"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}}),t._v(" "),a("div",{staticClass:"edit_item_toast btn_blue mapbtn",on:{click:function(e){return t.showdialogadminadd()}}},[a("a-icon",{attrs:{type:"environment"}}),t._v(" "),a("span",{staticClass:"positiontext"},[t._v("地图定位")])],1)],1),t._v(" "),a("div",{staticClass:"flexrow flexac edit_item"},[a("div",{staticClass:"edit_item_title"},[t._v("备注:")]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("a-textarea",{staticClass:"edit_a_input",attrs:{rows:5,placeholder:"格式不限制，256个字符以内，包含标点符号"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}}),t._v(" "),a("div",{staticClass:"edit_number"},[t._v("0/256")])],1),t._v(" "),a("div",{staticClass:"edit_item_toast"},[t._v("注：不可选")])]),t._v(" "),a("div",{staticClass:"flexrow",staticStyle:{"margin-top":"30px","justify-item":"flex-start","margin-left":"325px"}},[a("a-button",{on:{click:function(e){return t.getareaform()}}},[t._v("保存")]),t._v(" "),a("a-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:function(e){return t.reset()}}},[t._v("重置")])],1),t._v(" "),t.visible?a("div",{staticClass:"dialogadminadd"},[a("div",{staticClass:"dialogadminadd_t flex_b"},[a("div",[t._v("地理位置")]),t._v(" "),a("div",{on:{click:function(e){return t.cancel()}}},[a("a-icon",{attrs:{type:"close"}})],1)]),t._v(" "),a("div",{staticClass:"dialogadminadd_c"},[a("div",{staticClass:"flex_f dialogadminadd_c_t"},[a("div",[a("a-input",{staticClass:"dialogadminadd_inp",attrs:{placeholder:"输入位置名称",id:"searinp"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getLatLngLocation()}},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}})],1),t._v(" "),a("div",{staticClass:"edit_item_toast btn_blue mapbtn",on:{click:function(e){return t.getLatLngLocation()}}},[a("a-icon",{attrs:{type:"environment"}}),t._v(" "),a("span",{staticClass:"positiontext"},[t._v("地图定位")])],1)]),t._v(" "),a("div",{staticClass:"map",attrs:{id:"map-container"}})]),t._v(" "),a("div",{staticClass:"dialogadminadd_f flex_a"},[a("div",{staticClass:"flex_f"},[a("div",{staticClass:"ok_btn",on:{click:function(e){return t.define()}}},[t._v("确定")]),t._v(" "),a("div",{staticClass:"cancel_btn",on:{click:function(e){return t.cancel()}}},[t._v("取消")])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_title"},[e("span",{staticClass:"col_red"},[this._v("*")]),this._v("区划名称:\n    ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"edit_item_title"},[e("span",{staticClass:"col_red"},[this._v("*")]),this._v("地图位置:\n    ")])}]};var m=a("VU/8")(c,d,!1,function(t){a("r0vB")},null,null);e.default=m.exports},r0vB:function(t,e){}});