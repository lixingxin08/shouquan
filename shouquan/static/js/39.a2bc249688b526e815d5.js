webpackJsonp([39],{"X/64":function(e,t){},zugj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),n=a("exGp"),r=a.n(n),o={components:{isDeleteDialog:a("wxRv").a},data:function(){return{ModalText:"您确定要删除吗？",visible:!1,tabletype:!1,tablecolumns:[{width:158,align:"center",title:"阶段序号",dataIndex:"phaseId",key:"phaseId",ellipsis:!0},{width:208,align:"center",title:"阶段名称",dataIndex:"phaseName",key:"phaseName",ellipsis:!0},{width:108,align:"center",title:"合同编号",dataIndex:"contractNo",key:"contractNo",ellipsis:!0},{width:88,align:"center",title:"阶段期始",key:"startDate",dataIndex:"startDate",ellipsis:!0},{width:88,align:"center",title:"阶段期止",key:"endDate",dataIndex:"endDate",ellipsis:!0},{width:88,align:"center",title:"阶段状态",key:"statusCode",dataIndex:"statusCode",ellipsis:!0,scopedSlots:{customRender:"statusCode"}},{width:88,align:"center",title:"默认选中",key:"defaultChecked",dataIndex:"defaultChecked",ellipsis:!0,scopedSlots:{customRender:"defaultChecked"}},{width:208,align:"center",title:"操作",ellipsis:!0,scopedSlots:{customRender:"edit"}}],tabledata:"",pagination:{total:0,pageSize:10,showSizeChanger:!0,current:1,page:1,pageSizeOptions:["10","20","50","100"],showTotal:function(e){return"共有 "+e+" 条数据"}},removeparam:{areaName:"",areaId:""},istotal:{type:1},pageparam:{projectId:"",operatorId:"1",pageIndex:1,pageSize:10}}},created:function(){this.getpage()},methods:{getpage:function(){var e=this;return r()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.tabletype=!1,e.pageparam.projectId=e.$route.query.id,e.pageparam.pageIndex=e.pagination.current,e.pageparam.pageSize=e.pagination.pageSize,t.next=6,e.$http.post(e.$api.projectPhaselist,e.pageparam);case 6:"10000"==(a=t.sent).data.resultCode?(e.tabledata=a.data.data,1==e.istotal.type&&(e.pagination.total=a.data.data.length),e.istotal.type++,e.tabletype=!0):e.$message.error(a.data.resultMsg);case 8:case"end":return t.stop()}},t,e)}))()},getarearemove:function(){var e=this;return r()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post(e.$api.arearemove,e.removeparam);case 2:"10000"==(a=t.sent).data.resultCode?(e.$message.success(a.data.resultMsg),e.getareaform(),e.visible=!1):e.$message.error(a.data.resultMsg);case 4:case"end":return t.stop()}},t,e)}))()},toadd:function(e,t){"add"==e?this.$router.push({path:"/addstageproject",query:{type:e,projectid:this.$route.query.id,name:this.$route.query.name,customerId:this.$route.query.customerId}}):this.$router.push({path:"/addstageproject",query:{type:e,id:t.phaseId,projectid:t.projectId,name:this.$route.query.name,customerId:this.$route.query.customerId}})},showdialogstage:function(e){console.log(e,221212),this.removeparam.areaName=e.areaName,this.removeparam.areaId=e.areaId,this.visible=!0},cancel:function(){this.visible=!1},confirm:function(){this.visible=!1,this.getarearemove()},handleCancel:function(e){console.log("Clicked cancel button"),this.visible=!1},handleTableChange:function(e){this.pagination.current=e.current,this.pagination.pageSize=e.pageSize,this.getpage()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"administrativedivision"},[a("div",{staticClass:"flex_fs"},[a("div",[a("div",{staticClass:"right"},[a("div",{staticClass:"r_t_text",staticStyle:{"font-size":"18px"}},[e._v("阶段信息")]),e._v(" "),a("div",{staticClass:"isline"}),e._v(" "),a("div",{staticClass:"btn_blue btn2",on:{click:function(t){return e.toadd("add")}}},[e._v("新增")]),e._v(" "),e.tabletype?a("div",{staticClass:"table"},[a("a-table",{attrs:{columns:e.tablecolumns,"data-source":e.tabledata,bordered:"",pagination:e.pagination},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"statusCode",fn:function(t){return a("div",{staticClass:"flex_a"},[1==t?a("div",[e._v("启用")]):e._e(),e._v(" "),2==t?a("div",[e._v("备用")]):e._e(),e._v(" "),0==t?a("div",[e._v("关闭")]):e._e()])}},{key:"defaultChecked",fn:function(t){return a("div",{staticClass:"flex_a"},[1==t?a("div",[e._v("已选中")]):e._e(),e._v(" "),0==t?a("div",[e._v("未选中")]):e._e()])}},{key:"edit",fn:function(t,i){return a("div",{staticClass:"flex_a"},[a("div",{staticClass:"col_blue ispointer",on:{click:function(t){return e.toadd("edit",i)}}},[e._v("编辑")]),e._v(" "),a("div",{staticClass:"col_red ispointer",on:{click:function(t){return e.showdialogstage(i)}}},[a("span",[e._v("删除")])])])}}],null,!1,2223521466)})],1):e._e()])])]),e._v(" "),e.visible?a("is-delete-dialogstage",{on:{confirm:e.confirm,cancle:e.cancel}}):e._e()],1)},staticRenderFns:[]};var l=a("VU/8")(o,d,!1,function(e){a("X/64")},"data-v-72f1a267",null);t.default=l.exports}});