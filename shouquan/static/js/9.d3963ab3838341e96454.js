webpackJsonp([9],{Ckdz:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),r=a("exGp"),c=a.n(r),s=a("zLZ9"),o=a.n(s),d={data:function(){return{keyword:"",selectList:[{comboBoxId:"",comboBoxName:"全部"}],serviceType:"",dictionaryColumns:o.a.data.dictionaryColumns,deviceList:[],pagination:{total:0,size:"default",current:1,pageSize:20,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showQuickJumper:!0}}},created:function(){this.getCombobox(),this.getDeviceData()},methods:{handleTableChange:function(e){this.pagination.page=e.current,this.pagination.current=e.current,this.pagination.pageSize=e.pageSize,this.getDeviceData()},handleSelectChange:function(e){this.serviceType=e},getDeviceData:function(){var e=this;return c()(n.a.mark(function t(){var a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={keyword:e.keyword,serviceType:e.serviceType,pageIndex:e.pagination.current,pageSize:e.pagination.pageSize},t.next=3,e.$http.post(e.$api.devicetypepage,a);case 3:1e4==(i=t.sent).data.resultCode?(e.deviceList=i.data.data.list,1==e.pagination.current&&(e.pagination.total=i.data.data.length)):(e.deviceList=[],e.$message.error(i.data.resultMsg));case 5:case"end":return t.stop()}},t,e)}))()},confirm:function(e){var t=this;return c()(n.a.mark(function a(){var i,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={deviceTypeId:e.deviceTypeId},a.next=3,t.$http.post(t.$api.devicetyperemove,i);case 3:1e4==(r=a.sent).data.resultCode?(t.getDeviceData(),t.$message.success(r.data.resultMsg)):t.$message.error(r.data.resultMsg);case 5:case"end":return a.stop()}},a,t)}))()},cleanKeyWord:function(){this.keyword="",this.serviceType="",this.getDeviceData()},getCombobox:function(){var e=this;return c()(n.a.mark(function t(){var a,i,r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={classCode:"device_service_type"},t.next=3,e.$http.post(e.$api.dictionarycombobox,a);case 3:for(i=t.sent,r=0;r<i.data.data.length;r++)e.selectList.push(i.data.data[r]);case 5:case"end":return t.stop()}},t,e)}))()},editDevice:function(e){this.$router.push({path:"/adddevicetypes",query:{id:e.deviceTypeId}})},deviceAtt:function(e){this.$router.push({path:"/devicetypesatt",query:{id:e.deviceTypeId}})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content2"},[a("div",{staticClass:"flexrow flexac"},[a("div",{staticClass:"title_tx"},[e._v("类型名称/代码:")]),e._v(" "),a("a-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入名称/代码"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("div",{staticClass:"title_tx",staticStyle:{"margin-left":"20px"}},[e._v("业务类别:")]),e._v(" "),a("a-select",{staticStyle:{width:"200px"},attrs:{"default-value":"全部"},on:{change:e.handleSelectChange}},e._l(e.selectList,function(t,i){return a("a-select-option",{key:i,attrs:{value:t.comboBoxId}},[e._v("\n        "+e._s(t.comboBoxName)+"\n      ")])}),1),e._v(" "),a("a-button",{staticClass:"title_btn",attrs:{type:"primary"},on:{click:e.getDeviceData}},[e._v("查询")]),e._v(" "),a("a-button",{on:{click:e.cleanKeyWord}},[e._v("清除")])],1),e._v(" "),a("div",{staticStyle:{width:"100%",height:"1px",background:"#cccccc",margin:"20px auto"}}),e._v(" "),a("a-button",{staticClass:"addbtn",attrs:{type:"primary"},on:{click:function(t){return e.editDevice({})}}},[a("a-icon",{staticStyle:{"margin-right":"5px"},attrs:{"two-tone-color":"#ffffff",type:"plus"}}),e._v(" 新增\n  ")],1),e._v(" "),a("a-table",{attrs:{scroll:{y:700},columns:e.dictionaryColumns,"data-source":e.deviceList,bordered:"",size:"small",pagination:e.pagination},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"index",fn:function(t,a,i){return[e._v("\n     "+e._s(i+1+10*(e.pagination.current-1))+"\n    ")]}},{key:"operation",fn:function(t,i){return[a("div",{staticClass:"flexrow flexac flexjc"},[a("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"},on:{click:function(t){return e.editDevice(i)}}},[e._v("编辑")]),e._v(" "),a("div",{staticClass:"item-line"}),e._v(" "),a("a-popconfirm",{attrs:{title:"确定删除？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.confirm(i)}}},[a("a",{staticStyle:{color:"#FF0000","font-size":"12px"},attrs:{href:"#"}},[e._v("删除")])]),e._v(" "),a("div",{staticClass:"item-line"}),e._v(" "),a("a",{staticStyle:{"font-size":"12px"},attrs:{href:"#"},on:{click:function(t){return e.deviceAtt(i)}}},[e._v("属性")])],1)]}}])})],1)},staticRenderFns:[]};var p=a("VU/8")(d,l,!1,function(e){a("hQWF")},null,null);t.default=p.exports},hQWF:function(e,t){},zLZ9:function(e,t){e.exports={data:{dictionaryColumns:[{title:"序号",width:"80px",align:"center",ellipsis:!0,scopedSlots:{customRender:"index"}},{title:"类型名称",align:"center",dataIndex:"deviceTypeName",ellipsis:!0},{title:"类型代码",align:"center",dataIndex:"deviceTypeCode",ellipsis:!0},{title:"业务类别",align:"center",dataIndex:"serviceTypeName",ellipsis:!0},{title:"品牌数量",align:"center",dataIndex:"brandTotal",ellipsis:!0},{title:"型号数量",align:"center",dataIndex:"modelTotal",ellipsis:!0},{title:"操作",align:"center",width:"360px",scopedSlots:{customRender:"operation"}}],adddictionaryColumns:[{title:"序号",width:"80px",align:"center",scopedSlots:{customRender:"index"}},{title:"品牌名称",dataIndex:"brandName",align:"center"},{title:"品牌代码",dataIndex:"brandCode",align:"center"}],attList:[{title:"序号",width:"3%",align:"center",scopedSlots:{customRender:"index"}},{title:"属性名称",dataIndex:"propertyName",align:"center",width:"15%",scopedSlots:{customRender:"propertyName"}},{title:"属性代码",dataIndex:"propertyCode",align:"center",width:"15%",scopedSlots:{customRender:"propertyCode"}},{title:"属性描述",dataIndex:"propertyDesc",align:"center",width:"40%",scopedSlots:{customRender:"propertyDesc"}},{title:"操作",dataIndex:"brandCode",align:"center",width:"25%",scopedSlots:{customRender:"operation"}}]}}}});